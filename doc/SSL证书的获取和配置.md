### SSL证书的获取和配置

本节主要内容是SSL证书的获取和配置

一、为什么要设置SSL证书呢？

1）信息安全需要

SSL可以讲HTTP（明文传输）升级为HTTPS（密文传输），密文传输的好处就是数据在传输的过程中不会被第三方截取和篡改。

2）防止流量劫持

也就是降低被要与网站仿冒的风险，保护用户隐私信息。

3）提升用户安全感知

如果你的网站是http的，那么打开的时候网站上面将会出现一个“不安全”的标记，配置了SSL证书后这个提示就不再显示了。想象一下你的网站时刻挂着“不安全”三个字，有多少用户会放心的使用?

4）方便自己的网站在微信生态中进行访问

2017年腾讯就通告了：为保证数据传输安全，提高业务安全性，公众平台将不再支持HTTP方式的调用。说白了就是只要你的服务是通过HTTP传输方式的接口在微信上都是打不开的。

除了以上几种因素外，SSL的好处还有很多。不过由于我们后面打算在微信生态中部署我们的开源项目，所以这里的SSL肯定是要安装的。

二、SSL证书哪里获取？

在解释SSL证书怎么获取前我们先了解一下SSL证书的类型，一种是免费的，一种是付费的。

免费的里面又分为可信的和不可信的：

- 不可信的就是你个人生成的证书，没有得到浏览器的信任的。在开发环境中为了测试你可以自己去生成，但是要部署到公网的话就不好用了。
- 可信的是有CA机构签发的，CA机构为了快速普及SSL而开通的一个免费渠道，但是一般只有三个月的有效期。并且免费的一般只支持最基础的HTTPS加密，其它功能是没有的，如果你是个人使用选择这个也是可以的。

付费的就更好解释了，打开阿里云或者华为云等等云商平台自己去下单就看到了，版本很多可以根据自己的需要去选择不同的种类。一般有效期都是1年，当然也可以选择更久的只是不建议你这么做。

三、我的证书哪里来的？

现在云商也是很卷的（阿里云、腾讯云、华为云、百度云），我已经在这几家里面白嫖很多年了，1年的免费SSL证书只要你去找肯定是找得到的（避免广告嫌疑我就不细说了）。

四、怎么配置？

在云商那里申请到SSL证书后会得到两个这样的文件：

XXX.XXX.crt XXX.XXX.key

这两个文件就是CA机构办法的SSL证书了，上传到你服务器上，然后打开nginx.conf去配置一下：

![WechatIMG371.png](https://s2.loli.net/2022/08/29/eSns1HDjCBmiRuW.png)

除了在443端口这里配置了以为，我还在80http那边做了一个重定向，也就是只要有人访问我的http站点会自动跳转到HTTPS的站点来。

** 总结

最近家里发生一些事情，在更新上懈怠了很多。目前家事已经处理完毕，后面会增加更新的频率，毕竟我们这一行不进就是退的道理都懂。



 